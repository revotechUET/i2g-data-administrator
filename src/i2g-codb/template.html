<div class="slim-scroller" id="app">
    <div class="side-left" ng-class="{'hide-user-list': self.hideUserList}">
        <div ng-show="self.requesting" class="loading">
            <div class="loading-bar">
                <span class="bar-animation"></span>
            </div>
        </div>
        <div title="Search" style="position: absolute; top: 32px; left: 20px; font-weight: bold;">User-project list </div>
        <div title="Search" style="position: absolute; top: 83px; left: 35px; cursor: pointer;" class="ti ti-search"></div>
        <div title="Reload" style="position: absolute; top: 32px; right: 45px; cursor: pointer;" class="ti ti-reload" ng-click="self.reload()"></div>
        <div title="Hide user list" style="position: absolute; top: 32px; right: 20px; cursor: pointer;" class="ti ti-angle-left" ng-click="self.hideUserList = !self.hideUserList"></div>
        <wi-tree-view-virtual tree-root="self.listUser" hide-unmatched='true' get-children="self.getChildren"
                              click-fn='self.clickTreeVirtual' get-label="self.getLabel" get-icon='self.getIcon'
                              run-match='self.runMatch'
                              keep-chidren='true'>
        </wi-tree-view-virtual>
    </div>
    <div class="side-right">
        <div class="menu">
            <div>
                <span title="Show user list" ng-show="self.hideUserList" ng-click="self.hideUserList = !self.hideUserList" style="margin-left: -20px;">
                    <span class="ti ti-angle-right"></span>
                </span>
                <span ng-click="self.copyOrCut('copy')">
                    <span class="ti ti-files"></span>
                    <div>Copy</div>

                </span>
                <span ng-click="self.copyOrCut('cut')">
                    <span class="ti ti-cut"></span>
                    <div>Cut</div>
                </span>
                <span ng-click="self.paste()">
                    <span class="ti ti-clipboard"></span>
                    <div>Paste</div>
                    <p ng-if="self.pasteList.length">
                        {{self.pasteList.length}}
                    </p>
                </span>
                <span ng-click="self.verify()">
                        <span class="ti ti-check-box"></span>
                    <div>
                        Verify
                    </div>
                    <p ng-show="self.unsyncedCount">{{self.unsyncedCount}}</p>
                </span>
                <span ng-show="self.pasting">
                     Pasting
                </span>
                <!-- <span ng-click="self.addProjectStorage();">
                    <span class="zone-split-16x16"></span>
                    <div>Add tab</div>
                </span> -->
            </div>
            <div>
                <span>{{self.username}}</span>
                <span ng-click="self.showSetting = !self.showSetting"
                      style="margin-right: 0; background: #4a7def; color: #fff;">
                    <span class="ti ti-settings"></span>
                    <div style="padding-left: 0">Setting</div>
                </span>
            </div>
        </div>
        <div class="workspace">
            <div class="layout-right">
                <span class="tab">
                    <div ng-class="{'active': self.currentTab === -1}"
                         ng-click="self.setCurrentTab(-1);self.onClickFileExplorer(self.adminProjectStorage);">
                        <div class="tab-name">Admin</div>
                    </div>
                    <div class="tab-tab" ng-repeat="tab in self.listProjectStorage track by $index"
                         ng-class="{'active': self.currentTab === $index}">
                        <div class="tab-name" title="{{tab.label}} ({{tab.createdBy}})"
                             ng-click="self.setCurrentTab($index);self.onClickFileExplorer(self.listProjectStorage[$index].container);">{{tab.label}} ({{tab.createdBy}})</div>
                        <div class="close-tab ti ti-close" ng-click="self.removeProjectStorage($index);"></div>
                    </div>
                    <div ng-click="self.addProjectStorage()" style="position: sticky; right: 0; background: #f4f6f8;">
                        <div class="close-tab ti ti-plus" style="margin-left: 10px;"></div>
                    </div>
                </span>
                <div class="layout-workspace">
                    <div>
                        <file-explorer ng-show="self.currentTab===-1"
                                       ng-click="self.onClickFileExplorer(self.adminProjectStorage);"
                                       url="{{self.fileManager}}" storage-database="self.storageDatabaseAdmin"
                                       id-project="1" set-container="self.setContainerAdmin"
                                       preview-url="{{self.previewUrl}}" hide-import-to-inventory="true" is-database="false"
                                       hide-action-filter="false" hide-associate="true" well-readonly="true">
                        </file-explorer>
                        <wi-droppable ng-repeat="projStorage in self.listProjectStorage track by $index"
                                      ng-show="self.currentTab===$index" style="height: 100%;"
                                      on-drop="self.getFnDrop($index)"
                                      container-style="{'width': '100%', 'height': '100%'}">
                            <file-explorer
                                    ng-click="self.onClickFileExplorer(self.listProjectStorage[$index].container);"
                                    url="{{self.fileManager}}"
                                    storage-database="self.getStorageDatabase($index)" id-project="1"
                                    set-container="self.setContainerProjectStorage($index)"
                                    preview-url="{{self.previewUrl}}" hide-import-to-inventory="true" is-database="projStorage.isNewTab"
                                    hide-action-filter="false" hide-associate="true" well-readonly="true">
                            </file-explorer>
                        </wi-droppable>
                    </div>
                </div>
            </div>
            <div class="setting" ng-class="{'show-setting':self.showSetting}">
                <div class="header">
                    <span class="title">
                        <span class="ti ti-wand" style="margin-right: 15px;"></span>
                        Appearance
                    </span>
                    <span class="sub">Choose your theme or set automatic</span>
                    <div style="display: flex; align-items: center; justify-content: space-between; margin: 20px 0;">
                        <div>Auto change theme with sun time</div>
                        <label class="switch">
                            <input type="checkbox" ng-checked="self.autoChangeTheme" ng-click="self.updateSetting({autoChangeTheme: !self.autoChangeTheme});">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div style="display: flex; margin-bottom: 20px;justify-content: space-between;"
                         ng-show="!self.autoChangeTheme">
                        <div ng-class="{'active': self.activeTheme === 'light'}"
                             ng-click="self.changeStyle('light'); self.updateSetting({activeTheme: 'light'})" class="theme theme1">
                        </div>
                        <div ng-class="{'active': self.activeTheme === 'dark'}"
                             ng-click="self.changeStyle('dark'); self.updateSetting({activeTheme: 'dark'})" class="theme theme2"
                             style="margin: 0;">
                        </div>
                    </div>

                </div>
                <div class="header" style="margin-top: 20px;">
                    <span class="title">
                        <span class="ti ti-shortcode" style="margin-right: 15px;"></span>
                        Font size
                    </span>
                    <span class="sub">Select font size for this website</span>
                    <div class="font-size">
                        <div ng-click="self.selectedFontSize = 10; self.changeFontSize('10px')"
                             ng-class="{'choose-font-size':self.selectedFontSize === 10}"></div>
                        <div ng-click="self.selectedFontSize = 12; self.changeFontSize('12px')"
                             ng-class="{'choose-font-size':self.selectedFontSize === 12}"></div>
                        <div ng-click="self.selectedFontSize = 14; self.changeFontSize('14px')"
                             ng-class="{'choose-font-size':self.selectedFontSize === 14}"></div>
                        <div ng-click="self.selectedFontSize = 16; self.changeFontSize('16px')"
                             ng-class="{'choose-font-size':self.selectedFontSize === 16}"></div>
                    </div>
                    <div class="font-size" style="background: none; margin-bottom: 20px;">
                        <span>10</span>
                        <span>12</span>
                        <span>14</span>
                        <span>16</span>
                    </div>
                </div>

                <div class="logout" ng-click="self.logout()">
                    <div>Logout</div>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/ng-template" id="templateVerify">
    <style>
        .ngdialog.ngdialog-theme-default .ngdialog-content {
            width: 900px !important;
            padding: 0 !important;
            box-shadow: none !important;
        }
    </style>
    <div class="wi-modal-content">
        <div class="wi-modal-header">
            <div style="font-size: 15px;">Verify</div>
            <div style="display: flex;">
                <div style="display: flex; align-items: center">
                    <div>Check all</div>
                    <input style="margin: 0 0 0 15px;" type="checkbox" ng-model="self.selectedAllVerify" ng-change="self.clickSelectedAllVerify(self.selectedAllVerify)">
                </div>
                <div class="icon-hover-show-title" ng-class="{'icon-hover-show-title-actived':self.verifyStatus === 'unsynced'}" ng-click="self.getFilesInQueue('unsynced')">
                    <div class="fa fa-eye-slash"></div>
                    <span>Unsynced</span>
                </div>
                <div class="icon-hover-show-title" ng-class="{'icon-hover-show-title-actived':self.verifyStatus === 'synced'}" ng-click="self.getFilesInQueue('synced')">
                    <div class="fa fa-cloud"></div>
                    <span>Synced</span>
                </div>
                <div class="icon-hover-show-title" ng-class="{'icon-hover-show-title-actived':self.verifyStatus === 'rejected'}" ng-click="self.getFilesInQueue('rejected')">
                    <div class="fa fa-ban"></div>
                    <span>Rejected</span>
                </div>
                <div class="icon-hover-show-title" ng-class="{'icon-hover-show-title-actived':self.verifyStatus === 'all'}" ng-click="self.getFilesInQueue('all')">
                    <div class="fa fa-check"></div>
                    <span>All</span>
                </div>
                <div class="icon-hover-show-title icon-hover-show-title-actived" ng-show="self.verifyStatus === 'unsynced'" ng-click="self.syncVerifyAll()">
                    <div class="fa fa-cloud-upload"></div>
                    <span>SYNC ALL</span>
                </div>
            </div>
            
        </div>
        <div class="wi-modal-body slim-scroller">
            <wi-table-view ng-if="self.verifyList.length" row-count="self.verifyList.length"
                col-count="self.verifyTableColHeaders.length" col-headers="self.verifyTableColHeaders"
                row-headers="self.getVerifyTableRowHeaders()" accessor="self.verifyTableValue" item-list="self.verifyList">
            </wi-table-view>
        </div>
        <div class="wi-modal-footer">
            <div class="btn-footer ok-btn" ng-click="self.syncSelectedVerifies()">Approve</div>
            <div class="btn-footer close-btn" ng-click="self.deleteSelectedVerifies()">Reject</div>
        </div>
    </div>
</script>

